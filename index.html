<!doctype html>
<html lang="el">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Metamorphosis AR Collage</title>
    <link rel="stylesheet" href="styles/main.css" />
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    <script defer src="js/app.js"></script>
  </head>
  <body>
    <div id="hud" class="hud">
      <h1>Metamorphosis AR Collage</h1>
      <p id="status">Στόχευσε την κάμερα στο marker για να εμφανιστεί το κολάζ.</p>
      <p class="marker-note">
        Marker image (demo):
        <a href="https://raw.githubusercontent.com/hiukim/mind-ar-js/master/examples/image-tracking/assets/card-example/card.png" target="_blank" rel="noreferrer">open marker</a>
      </p>
      <div class="controls">
        <button id="toggleQuote" type="button">Εμφάνιση Αποσπάσματος</button>
        <button id="toggleLayer" type="button">Απόκρυψη Εικόνων</button>
      </div>
    </div>

    <a-scene
      mindar-image="imageTargetSrc: https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.5/examples/image-tracking/assets/card-example/card.mind; autoStart: true; uiScanning: yes;"
      color-space="sRGB"
      renderer="colorManagement: true, physicallyCorrectLights"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
    >
      <a-assets>
        <img id="collage-main" src="assets/images/collage-main.svg" alt="AR collage" />
        <img id="collage-overlay" src="assets/images/collage-overlay.svg" alt="overlay" />
      </a-assets>

      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

      <a-entity id="marker-root" mindar-image-target="targetIndex: 0">
        <a-plane
          id="layer-main"
          src="#collage-main"
          position="0 0 0"
          height="1"
          width="1.3"
          material="transparent: false"
        ></a-plane>

        <a-plane
          id="layer-overlay"
          src="#collage-overlay"
          position="0 0.15 0.01"
          height="0.65"
          width="1.1"
          material="transparent: true"
        ></a-plane>

        <a-text
          id="quote"
          value="When Gregor Samsa woke from troubled dreams..."
          color="#f3f3f1"
          position="0 -0.6 0.02"
          width="1.6"
          align="center"
          wrap-count="36"
          visible="false"
        ></a-text>

        <a-sphere
          id="hotspot"
          position="0.5 0.35 0.04"
          radius="0.06"
          color="#ffd166"
          animation="property: scale; dir: alternate; dur: 800; loop: true; to: 1.25 1.25 1.25"
        ></a-sphere>
      </a-entity>

      <a-entity light="type: ambient; intensity: 0.9"></a-entity>
      <a-entity light="type: directional; intensity: 0.6" position="0 1 1"></a-entity>
    </a-scene>
  </body>
</html>
